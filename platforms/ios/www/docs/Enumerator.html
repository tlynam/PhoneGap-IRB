<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>
  Class: Enumerator

    &mdash; Documentation by YARD 0.8.7.6

</title>

  <link rel="stylesheet" href="css/style.css" type="text/css" charset="utf-8" />

  <link rel="stylesheet" href="css/common.css" type="text/css" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  hasFrames = window.top.frames.main ? true : false;
  relpath = '';
  framesUrl = "frames.html#!Enumerator.html";
</script>


  <script type="text/javascript" charset="utf-8" src="js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="js/app.js"></script>


  </head>
  <body>
    <div id="header">
      <div id="menu">

    <a href="_index.html">Index (E)</a> &raquo;


    <span class="title">Enumerator</span>


  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
    <a
        href="index.html">
      Readme
    </a>

    <a class="full_list_link" id="class_list_link"
        href="class_list.html">
      Classes
    </a>

    <a class="full_list_link" id="method_list_link"
        href="method_list.html">
      Methods
    </a>

    <a id="class_list_link"
        href="../index.html">
      Go to Editor ↺
    </a>
</div>
      <div class="clear"></div>
    </div>

    <iframe id="search_frame"></iframe>

    <div id="content"><h1>Class: Enumerator



</h1>

<dl class="box">

    <dt class="r1">Inherits:</dt>
    <dd class="r1">
      <span class="inheritName"><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></span>

        <ul class="fullTree">
          <li><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></li>

            <li class="next">Enumerator</li>

        </ul>
        <a href="#" class="inheritanceTree">show all</a>

      </dd>






      <dt class="r2">Includes:</dt>
      <dd class="r2"><span class='object_link'><a href="Enumerable.html" title="Enumerable (module)">Enumerable</a></span></dd>





    <dt class="r1 last">Defined in:</dt>
    <dd class="r1 last">mrbgems/mruby-enumerator/mrblib/enumerator.rb</dd>

</dl>
<div class="clear"></div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">

<p>A class which allows both internal and external iteration.</p>

<p>An Enumerator can be created by the following methods.</p>
<ul><li>
<p>Kernel#to_enum</p>
</li><li>
<p>Kernel#enum_for</p>
</li><li>
<p>Enumerator.new</p>
</li></ul>

<p>Most methods have two forms: a block form where the contents are evaluated
for each item in the enumeration, and a non-block form which returns a new
Enumerator wrapping the iteration.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_enumerator'>enumerator</span> <span class='op'>=</span> <span class='qwords_beg'>%w(</span><span class='tstring_content'>one</span><span class='words_sep'> </span><span class='tstring_content'>two</span><span class='words_sep'> </span><span class='tstring_content'>three</span><span class='words_sep'>)</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span>
<span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_enumerator'>enumerator</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span> <span class='comment'># =&gt; Enumerator
</span>
<span class='id identifier rubyid_enumerator'>enumerator</span><span class='period'>.</span><span class='id identifier rubyid_each_with_object'>each_with_object</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_item'>item</span><span class='comma'>,</span> <span class='id identifier rubyid_obj'>obj</span><span class='op'>|</span>
  <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_obj'>obj</span><span class='embexpr_end'>}</span><span class='tstring_content'>: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_item'>item</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span>

<span class='comment'># foo: one
</span><span class='comment'># foo: two
</span><span class='comment'># foo: three
</span>
<span class='id identifier rubyid_enum_with_obj'>enum_with_obj</span> <span class='op'>=</span> <span class='id identifier rubyid_enumerator'>enumerator</span><span class='period'>.</span><span class='id identifier rubyid_each_with_object'>each_with_object</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_enum_with_obj'>enum_with_obj</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span> <span class='comment'># =&gt; Enumerator
</span>
<span class='id identifier rubyid_enum_with_obj'>enum_with_obj</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_item'>item</span><span class='comma'>,</span> <span class='id identifier rubyid_obj'>obj</span><span class='op'>|</span>
  <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_obj'>obj</span><span class='embexpr_end'>}</span><span class='tstring_content'>: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_item'>item</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span>

<span class='comment'># foo: one
</span><span class='comment'># foo: two
</span><span class='comment'># foo: three
</span></code></pre>

<p>This allows you to chain Enumerators together.  For example, you can map a
list&#39;s elements to strings containing the index and the element as a
string via:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_puts'>puts</span> <span class='qwords_beg'>%w[</span><span class='tstring_content'>foo</span><span class='words_sep'> </span><span class='tstring_content'>bar</span><span class='words_sep'> </span><span class='tstring_content'>baz</span><span class='words_sep'>]</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span><span class='period'>.</span><span class='id identifier rubyid_with_index'>with_index</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_w'>w</span><span class='comma'>,</span> <span class='id identifier rubyid_i'>i</span><span class='op'>|</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_i'>i</span><span class='embexpr_end'>}</span><span class='tstring_content'>:</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_w'>w</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> <span class='rbrace'>}</span>
<span class='comment'># =&gt; [&quot;0:foo&quot;, &quot;1:bar&quot;, &quot;2:baz&quot;]
</span></code></pre>

<p>An Enumerator can also be used as an external iterator. For example,
Enumerator#next returns the next value of the iterator or raises
StopIteration if the Enumerator is at the end.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_e'>e</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='int'>1</span><span class='comma'>,</span><span class='int'>2</span><span class='comma'>,</span><span class='int'>3</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span>   <span class='comment'># returns an enumerator object.
</span><span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_next'>next</span>   <span class='comment'># =&gt; 1
</span><span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_next'>next</span>   <span class='comment'># =&gt; 2
</span><span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_next'>next</span>   <span class='comment'># =&gt; 3
</span><span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_next'>next</span>   <span class='comment'># raises StopIteration
</span></code></pre>

<p>You can use this to implement an internal iterator as follows:</p>

<pre class="code ruby"><code class="ruby"><span class='kw'>def</span> <span class='id identifier rubyid_ext_each'>ext_each</span><span class='lparen'>(</span><span class='id identifier rubyid_e'>e</span><span class='rparen'>)</span>
  <span class='kw'>while</span> <span class='kw'>true</span>
    <span class='kw'>begin</span>
      <span class='id identifier rubyid_vs'>vs</span> <span class='op'>=</span> <span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_next_values'>next_values</span>
    <span class='kw'>rescue</span> <span class='const'>StopIteration</span>
      <span class='kw'>return</span> <span class='gvar'>$!</span><span class='period'>.</span><span class='id identifier rubyid_result'>result</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_y'>y</span> <span class='op'>=</span> <span class='kw'>yield</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_vs'>vs</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_feed'>feed</span> <span class='id identifier rubyid_y'>y</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>

<span class='id identifier rubyid_o'>o</span> <span class='op'>=</span> <span class='const'>Object</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>

<span class='kw'>def</span> <span class='id identifier rubyid_o'>o</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span>
  <span class='id identifier rubyid_puts'>puts</span> <span class='kw'>yield</span>
  <span class='id identifier rubyid_puts'>puts</span> <span class='kw'>yield</span><span class='lparen'>(</span><span class='int'>1</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_puts'>puts</span> <span class='kw'>yield</span><span class='lparen'>(</span><span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='rparen'>)</span>
  <span class='int'>3</span>
<span class='kw'>end</span>

<span class='comment'># use o.each as an internal iterator directly.
</span><span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_o'>o</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='op'>*</span><span class='id identifier rubyid_x'>x</span><span class='op'>|</span> <span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_x'>x</span><span class='semicolon'>;</span> <span class='lbracket'>[</span><span class='symbol'>:b</span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_x'>x</span><span class='rbracket'>]</span> <span class='rbrace'>}</span>
<span class='comment'># =&gt; [], [:b], [1], [:b, 1], [1, 2], [:b, 1, 2], 3
</span>
<span class='comment'># convert o.each to an external iterator for
</span><span class='comment'># implementing an internal iterator.
</span><span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_ext_each'>ext_each</span><span class='lparen'>(</span><span class='id identifier rubyid_o'>o</span><span class='period'>.</span><span class='id identifier rubyid_to_enum'>to_enum</span><span class='rparen'>)</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='op'>*</span><span class='id identifier rubyid_x'>x</span><span class='op'>|</span> <span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_x'>x</span><span class='semicolon'>;</span> <span class='lbracket'>[</span><span class='symbol'>:b</span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_x'>x</span><span class='rbracket'>]</span> <span class='rbrace'>}</span>
<span class='comment'># =&gt; [], [:b], [1], [:b, 1], [1, 2], [:b, 1, 2], 3
</span></code></pre>


  </div>
</div>
<div class="tags">


</div><div id="subclasses">
  <h2>Direct Known Subclasses</h2>
  <p class="children"><span class='object_link'><a href="Enumerable/Lazy.html" title="Enumerable::Lazy (class)">Enumerable::Lazy</a></span></p>
</div>
<h2>Defined Under Namespace</h2>
<p class="children">




      <strong class="classes">Classes:</strong> <span class='object_link'><a href="Enumerator/Generator.html" title="Enumerator::Generator (class)">Generator</a></span>, <span class='object_link'><a href="Enumerator/Yielder.html" title="Enumerator::Yielder (class)">Yielder</a></span>


</p>

  <h2>Constant Summary</h2>




  <h2>Constant Summary</h2>

  <h3 class="inherited">Constants included
     from <span class='object_link'><a href="Enumerable.html" title="Enumerable (module)">Enumerable</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="Enumerable.html#NONE-constant" title="Enumerable::NONE (constant)">Enumerable::NONE</a></span></p>


  <h2>Instance Attribute Summary <small>(<a href="#" class="summary_toggle">collapse</a>)</small></h2>
  <ul class="summary">

      <li class="public ">
  <span class="summary_signature">

      <a href="#args%3D-instance_method" title="#args= (instance method)">- (Object) <strong>args</strong> </a>



  </span>





      <span class="note title writeonly">writeonly</span>








    <span class="summary_desc"><div class='inline'>
<p>Sets the attribute args.</p>
</div></span>

</li>


      <li class="public ">
  <span class="summary_signature">

      <a href="#fib%3D-instance_method" title="#fib= (instance method)">- (Object) <strong>fib</strong> </a>



  </span>





      <span class="note title writeonly">writeonly</span>








    <span class="summary_desc"><div class='inline'>
<p>Sets the attribute fib.</p>
</div></span>

</li>


      <li class="public ">
  <span class="summary_signature">

      <a href="#meth%3D-instance_method" title="#meth= (instance method)">- (Object) <strong>meth</strong> </a>



  </span>





      <span class="note title writeonly">writeonly</span>








    <span class="summary_desc"><div class='inline'>
<p>Sets the attribute meth.</p>
</div></span>

</li>


      <li class="public ">
  <span class="summary_signature">

      <a href="#obj%3D-instance_method" title="#obj= (instance method)">- (Object) <strong>obj</strong> </a>



  </span>





      <span class="note title writeonly">writeonly</span>








    <span class="summary_desc"><div class='inline'>
<p>Sets the attribute obj.</p>
</div></span>

</li>


  </ul>





    <h2>
      Instance Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">

        <li class="public ">
  <span class="summary_signature">

      <a href="#each-instance_method" title="#each (instance method)">- (Object) <strong>each</strong>(*argv, &amp;block) </a>



  </span>









    <span class="summary_desc"><div class='inline'>
<p>call-seq:   enum.each { |elm| block }                    -&gt; obj
enum.each                                    -&gt; enum
enum.each(*appending_args) { |elm| block }   -&gt; obj
enum.each(*appending_args)                   -&gt; an_enumerator.</p>
</div></span>

</li>


        <li class="public ">
  <span class="summary_signature">

      <a href="#each_with_index-instance_method" title="#each_with_index (instance method)">- (Object) <strong>each_with_index</strong> </a>



  </span>









    <span class="summary_desc"><div class='inline'>
<p>call-seq:   e.each_with_index {|(*args), idx| … }   e.each_with_index.</p>
</div></span>

</li>


        <li class="public ">
  <span class="summary_signature">

      <a href="#feed-instance_method" title="#feed (instance method)">- (Object) <strong>feed</strong>(value) </a>



  </span>









    <span class="summary_desc"><div class='inline'>
<p>call-seq:   e.feed obj   -&gt; nil.</p>
</div></span>

</li>


        <li class="public ">
  <span class="summary_signature">

      <a href="#initialize-instance_method" title="#initialize (instance method)">- (Enumerator) <strong>initialize</strong>(obj = nil, meth = :each, *args, &amp;block) </a>



  </span>


    <span class="note title constructor">constructor</span>








    <span class="summary_desc"><div class='inline'>
<p>call-seq:   Enumerator.new(size = nil) { |yielder| … }
Enumerator.new(obj, method = :each, *args).</p>
</div></span>

</li>


        <li class="public ">
  <span class="summary_signature">

      <a href="#initialize_copy-instance_method" title="#initialize_copy (instance method)">- (Object) <strong>initialize_copy</strong>(obj) </a>



  </span>









    <span class="summary_desc"><div class='inline'></div></span>

</li>


        <li class="public ">
  <span class="summary_signature">

      <a href="#inspect-instance_method" title="#inspect (instance method)">- (Object) <strong>inspect</strong> </a>



  </span>









    <span class="summary_desc"><div class='inline'></div></span>

</li>


        <li class="public ">
  <span class="summary_signature">

      <a href="#next-instance_method" title="#next (instance method)">- (Object) <strong>next</strong> </a>



  </span>









    <span class="summary_desc"><div class='inline'>
<p>call-seq:   e.next   -&gt; object.</p>
</div></span>

</li>


        <li class="public ">
  <span class="summary_signature">

      <a href="#next_values-instance_method" title="#next_values (instance method)">- (Object) <strong>next_values</strong> </a>



  </span>









    <span class="summary_desc"><div class='inline'>
<p>call-seq:   e.next_values   -&gt; array.</p>
</div></span>

</li>


        <li class="public ">
  <span class="summary_signature">

      <a href="#peek-instance_method" title="#peek (instance method)">- (Object) <strong>peek</strong> </a>



  </span>









    <span class="summary_desc"><div class='inline'>
<p>call-seq:   e.peek   -&gt; object.</p>
</div></span>

</li>


        <li class="public ">
  <span class="summary_signature">

      <a href="#peek_values-instance_method" title="#peek_values (instance method)">- (Object) <strong>peek_values</strong> </a>



  </span>









    <span class="summary_desc"><div class='inline'>
<p>call-seq:   e.peek_values   -&gt; array.</p>
</div></span>

</li>


        <li class="public ">
  <span class="summary_signature">

      <a href="#rewind-instance_method" title="#rewind (instance method)">- (Object) <strong>rewind</strong> </a>



  </span>









    <span class="summary_desc"><div class='inline'>
<p>call-seq:   e.rewind   -&gt; e.</p>
</div></span>

</li>


        <li class="public ">
  <span class="summary_signature">

      <a href="#with_index-instance_method" title="#with_index (instance method)">- (Object) <strong>with_index</strong>(offset = 0) </a>



  </span>









    <span class="summary_desc"><div class='inline'>
<p>call-seq:   e.with_index(offset = 0) {|(*args), idx| … }
e.with_index(offset = 0).</p>
</div></span>

</li>


        <li class="public ">
  <span class="summary_signature">

      <a href="#with_object-instance_method" title="#with_object (instance method)">- (Object) <strong>with_object</strong>(object) </a>



  </span>









    <span class="summary_desc"><div class='inline'>
<p>call-seq:   e.each_with_object(obj) {|(*args), obj| … }
e.each_with_object(obj)   e.with_object(obj) {|(*args), obj| … }
e.with_object(obj).</p>
</div></span>

</li>


    </ul>











  <h3 class="inherited">Methods included from <span class='object_link'><a href="Enumerable.html" title="Enumerable (module)">Enumerable</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="Enumerable.html#__sort_sub__-instance_method" title="Enumerable#__sort_sub__ (method)">#__sort_sub__</a></span>, <span class='object_link'><a href="Enumerable.html#all%3F-instance_method" title="Enumerable#all? (method)">#all?</a></span>, <span class='object_link'><a href="Enumerable.html#any%3F-instance_method" title="Enumerable#any? (method)">#any?</a></span>, <span class='object_link'><a href="Enumerable.html#collect-instance_method" title="Enumerable#collect (method)">#collect</a></span>, <span class='object_link'><a href="Enumerable.html#count-instance_method" title="Enumerable#count (method)">#count</a></span>, <span class='object_link'><a href="Enumerable.html#cycle-instance_method" title="Enumerable#cycle (method)">#cycle</a></span>, <span class='object_link'><a href="Enumerable.html#detect-instance_method" title="Enumerable#detect (method)">#detect</a></span>, <span class='object_link'><a href="Enumerable.html#drop-instance_method" title="Enumerable#drop (method)">#drop</a></span>, <span class='object_link'><a href="Enumerable.html#drop_while-instance_method" title="Enumerable#drop_while (method)">#drop_while</a></span>, <span class='object_link'><a href="Enumerable.html#each_cons-instance_method" title="Enumerable#each_cons (method)">#each_cons</a></span>, <span class='object_link'><a href="Enumerable.html#each_slice-instance_method" title="Enumerable#each_slice (method)">#each_slice</a></span>, <span class='object_link'><a href="Enumerable.html#each_with_object-instance_method" title="Enumerable#each_with_object (method)">#each_with_object</a></span>, <span class='object_link'><a href="Enumerable.html#entries-instance_method" title="Enumerable#entries (method)">#entries</a></span>, <span class='object_link'><a href="Enumerable.html#find_all-instance_method" title="Enumerable#find_all (method)">#find_all</a></span>, <span class='object_link'><a href="Enumerable.html#find_index-instance_method" title="Enumerable#find_index (method)">#find_index</a></span>, <span class='object_link'><a href="Enumerable.html#first-instance_method" title="Enumerable#first (method)">#first</a></span>, <span class='object_link'><a href="Enumerable.html#flat_map-instance_method" title="Enumerable#flat_map (method)">#flat_map</a></span>, <span class='object_link'><a href="Enumerable.html#grep-instance_method" title="Enumerable#grep (method)">#grep</a></span>, <span class='object_link'><a href="Enumerable.html#group_by-instance_method" title="Enumerable#group_by (method)">#group_by</a></span>, <span class='object_link'><a href="Enumerable.html#hash-instance_method" title="Enumerable#hash (method)">#hash</a></span>, <span class='object_link'><a href="Enumerable.html#include%3F-instance_method" title="Enumerable#include? (method)">#include?</a></span>, <span class='object_link'><a href="Enumerable.html#inject-instance_method" title="Enumerable#inject (method)">#inject</a></span>, <span class='object_link'><a href="Enumerable.html#lazy-instance_method" title="Enumerable#lazy (method)">#lazy</a></span>, <span class='object_link'><a href="Enumerable.html#max-instance_method" title="Enumerable#max (method)">#max</a></span>, <span class='object_link'><a href="Enumerable.html#max_by-instance_method" title="Enumerable#max_by (method)">#max_by</a></span>, <span class='object_link'><a href="Enumerable.html#min-instance_method" title="Enumerable#min (method)">#min</a></span>, <span class='object_link'><a href="Enumerable.html#min_by-instance_method" title="Enumerable#min_by (method)">#min_by</a></span>, <span class='object_link'><a href="Enumerable.html#minmax-instance_method" title="Enumerable#minmax (method)">#minmax</a></span>, <span class='object_link'><a href="Enumerable.html#minmax_by-instance_method" title="Enumerable#minmax_by (method)">#minmax_by</a></span>, <span class='object_link'><a href="Enumerable.html#none%3F-instance_method" title="Enumerable#none? (method)">#none?</a></span>, <span class='object_link'><a href="Enumerable.html#one%3F-instance_method" title="Enumerable#one? (method)">#one?</a></span>, <span class='object_link'><a href="Enumerable.html#partition-instance_method" title="Enumerable#partition (method)">#partition</a></span>, <span class='object_link'><a href="Enumerable.html#reject-instance_method" title="Enumerable#reject (method)">#reject</a></span>, <span class='object_link'><a href="Enumerable.html#reverse_each-instance_method" title="Enumerable#reverse_each (method)">#reverse_each</a></span>, <span class='object_link'><a href="Enumerable.html#sort-instance_method" title="Enumerable#sort (method)">#sort</a></span>, <span class='object_link'><a href="Enumerable.html#sort_by-instance_method" title="Enumerable#sort_by (method)">#sort_by</a></span>, <span class='object_link'><a href="Enumerable.html#take-instance_method" title="Enumerable#take (method)">#take</a></span>, <span class='object_link'><a href="Enumerable.html#take_while-instance_method" title="Enumerable#take_while (method)">#take_while</a></span>, <span class='object_link'><a href="Enumerable.html#to_h-instance_method" title="Enumerable#to_h (method)">#to_h</a></span>, <span class='object_link'><a href="Enumerable.html#to_h-class_method" title="Enumerable.to_h (method)">to_h</a></span>, <span class='object_link'><a href="Enumerable.html#zip-instance_method" title="Enumerable#zip (method)">#zip</a></span></p>
<div id="constructor_details" class="method_details_list">
  <h2>Constructor Details</h2>

    <div class="method_details first">
  <h3 class="signature first" id="initialize-instance_method">

    - (<tt><span class='object_link'><a href="" title="Enumerator (class)">Enumerator</a></span></tt>) <strong>initialize</strong>(obj = nil, meth = :each, *args, &amp;block)





</h3><div class="docstring">
  <div class="discussion">

<p>call-seq:</p>

<pre class="code ruby"><code class="ruby">Enumerator.new(size = nil) { |yielder| ... }
Enumerator.new(obj, method = :each, *args)</code></pre>

<p>Creates a new Enumerator object, which can be used as an Enumerable.</p>

<p>In the first form, iteration is defined by the given block, in which a
“yielder” object, given as block parameter, can be used to yield a value by
calling the <code>yield</code> method (aliased as <tt>&lt;&lt;</tt>):</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_fib'>fib</span> <span class='op'>=</span> <span class='const'>Enumerator</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_y'>y</span><span class='op'>|</span>
  <span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> <span class='id identifier rubyid_b'>b</span> <span class='op'>=</span> <span class='int'>1</span>
  <span class='id identifier rubyid_loop'>loop</span> <span class='kw'>do</span>
    <span class='id identifier rubyid_y'>y</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_a'>a</span>
    <span class='id identifier rubyid_a'>a</span><span class='comma'>,</span> <span class='id identifier rubyid_b'>b</span> <span class='op'>=</span> <span class='id identifier rubyid_b'>b</span><span class='comma'>,</span> <span class='id identifier rubyid_a'>a</span> <span class='op'>+</span> <span class='id identifier rubyid_b'>b</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>

<span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_fib'>fib</span><span class='period'>.</span><span class='id identifier rubyid_take'>take</span><span class='lparen'>(</span><span class='int'>10</span><span class='rparen'>)</span> <span class='comment'># =&gt; [1, 1, 2, 3, 5, 8, 13, 21, 34, 55]
</span></code></pre>


  </div>
</div>
<div class="tags">


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrbgems/mruby-enumerator/mrblib/enumerator.rb', line 113</span>

<span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span><span class='lparen'>(</span><span class='id identifier rubyid_obj'>obj</span><span class='op'>=</span><span class='kw'>nil</span><span class='comma'>,</span> <span class='id identifier rubyid_meth'>meth</span><span class='op'>=</span><span class='symbol'>:each</span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_block_given?'>block_given?</span>
    <span class='id identifier rubyid_obj'>obj</span> <span class='op'>=</span> <span class='const'>Generator</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span> <span class='kw'>unless</span> <span class='id identifier rubyid_obj'>obj</span>
  <span class='kw'>end</span>

  <span class='ivar'>@obj</span> <span class='op'>=</span> <span class='id identifier rubyid_obj'>obj</span>
  <span class='ivar'>@meth</span> <span class='op'>=</span> <span class='id identifier rubyid_meth'>meth</span>
  <span class='ivar'>@args</span> <span class='op'>=</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_dup'>dup</span>
  <span class='ivar'>@fib</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='ivar'>@dst</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='ivar'>@lookahead</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='ivar'>@feedvalue</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='ivar'>@stop_exc</span> <span class='op'>=</span> <span class='kw'>false</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>

</div>

  <div id="instance_attr_details" class="attr_details">
    <h2>Instance Attribute Details</h2>


      <span id="args-instance_method"></span>
      <div class="method_details first">
  <h3 class="signature first" id="args=-instance_method">

    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>args=</strong>(value)





</h3><div class="docstring">
  <div class="discussion">

<p>Sets the attribute args</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">

    <li>

        <span class='name'>value</span>


        <span class='type'></span>



        &mdash;
        <div class='inline'>
<p>the value to set the attribute args to.</p>
</div>

    </li>

</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


129
130
131</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrbgems/mruby-enumerator/mrblib/enumerator.rb', line 129</span>

<span class='kw'>def</span> <span class='id identifier rubyid_args='>args=</span><span class='lparen'>(</span><span class='id identifier rubyid_value'>value</span><span class='rparen'>)</span>
  <span class='ivar'>@args</span> <span class='op'>=</span> <span class='id identifier rubyid_value'>value</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>


      <span id="fib-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="fib=-instance_method">

    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>fib=</strong>(value)





</h3><div class="docstring">
  <div class="discussion">

<p>Sets the attribute fib</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">

    <li>

        <span class='name'>value</span>


        <span class='type'></span>



        &mdash;
        <div class='inline'>
<p>the value to set the attribute fib to.</p>
</div>

    </li>

</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


129
130
131</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrbgems/mruby-enumerator/mrblib/enumerator.rb', line 129</span>

<span class='kw'>def</span> <span class='id identifier rubyid_fib='>fib=</span><span class='lparen'>(</span><span class='id identifier rubyid_value'>value</span><span class='rparen'>)</span>
  <span class='ivar'>@fib</span> <span class='op'>=</span> <span class='id identifier rubyid_value'>value</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>


      <span id="meth-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="meth=-instance_method">

    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>meth=</strong>(value)





</h3><div class="docstring">
  <div class="discussion">

<p>Sets the attribute meth</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">

    <li>

        <span class='name'>value</span>


        <span class='type'></span>



        &mdash;
        <div class='inline'>
<p>the value to set the attribute meth to.</p>
</div>

    </li>

</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


129
130
131</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrbgems/mruby-enumerator/mrblib/enumerator.rb', line 129</span>

<span class='kw'>def</span> <span class='id identifier rubyid_meth='>meth=</span><span class='lparen'>(</span><span class='id identifier rubyid_value'>value</span><span class='rparen'>)</span>
  <span class='ivar'>@meth</span> <span class='op'>=</span> <span class='id identifier rubyid_value'>value</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>


      <span id="obj-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="obj=-instance_method">

    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>obj=</strong>(value)





</h3><div class="docstring">
  <div class="discussion">

<p>Sets the attribute obj</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">

    <li>

        <span class='name'>value</span>


        <span class='type'></span>



        &mdash;
        <div class='inline'>
<p>the value to set the attribute obj to.</p>
</div>

    </li>

</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


129
130
131</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrbgems/mruby-enumerator/mrblib/enumerator.rb', line 129</span>

<span class='kw'>def</span> <span class='id identifier rubyid_obj='>obj=</span><span class='lparen'>(</span><span class='id identifier rubyid_value'>value</span><span class='rparen'>)</span>
  <span class='ivar'>@obj</span> <span class='op'>=</span> <span class='id identifier rubyid_value'>value</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>

  </div>


  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>


      <div class="method_details first">
  <h3 class="signature first" id="each-instance_method">

    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>each</strong>(*argv, &amp;block)





</h3><div class="docstring">
  <div class="discussion">

<p>call-seq:</p>

<pre class="code ruby"><code class="ruby">enum.each { |elm| block }                    -&gt; obj
enum.each                                    -&gt; enum
enum.each(*appending_args) { |elm| block }   -&gt; obj
enum.each(*appending_args)                   -&gt; an_enumerator</code></pre>

<p>Iterates over the block according to how this Enumerator was constructed.
If no block and no arguments are given, returns self.</p>

<h3 id="label-Examples">Examples</h3>

<pre class="code ruby"><code class="ruby"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Hello, world!</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_scan'>scan</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\w+</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span>                     <span class='comment'>#=&gt; [&quot;Hello&quot;, &quot;world&quot;]
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Hello, world!</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_to_enum'>to_enum</span><span class='lparen'>(</span><span class='symbol'>:scan</span><span class='comma'>,</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\w+</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_to_a'>to_a</span>      <span class='comment'>#=&gt; [&quot;Hello&quot;, &quot;world&quot;]
</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Hello, world!</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_to_enum'>to_enum</span><span class='lparen'>(</span><span class='symbol'>:scan</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\w+</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_to_a'>to_a</span> <span class='comment'>#=&gt; [&quot;Hello&quot;, &quot;world&quot;]
</span>
<span class='id identifier rubyid_obj'>obj</span> <span class='op'>=</span> <span class='const'>Object</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>

<span class='kw'>def</span> <span class='id identifier rubyid_obj'>obj</span><span class='period'>.</span><span class='id identifier rubyid_each_arg'>each_arg</span><span class='lparen'>(</span><span class='id identifier rubyid_a'>a</span><span class='comma'>,</span> <span class='id identifier rubyid_b'>b</span><span class='op'>=</span><span class='symbol'>:b</span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_rest'>rest</span><span class='rparen'>)</span>
  <span class='kw'>yield</span> <span class='id identifier rubyid_a'>a</span>
  <span class='kw'>yield</span> <span class='id identifier rubyid_b'>b</span>
  <span class='kw'>yield</span> <span class='id identifier rubyid_rest'>rest</span>
  <span class='symbol'>:method_returned</span>
<span class='kw'>end</span>

<span class='id identifier rubyid_enum'>enum</span> <span class='op'>=</span> <span class='id identifier rubyid_obj'>obj</span><span class='period'>.</span><span class='id identifier rubyid_to_enum'>to_enum</span> <span class='symbol'>:each_arg</span><span class='comma'>,</span> <span class='symbol'>:a</span><span class='comma'>,</span> <span class='symbol'>:x</span>

<span class='id identifier rubyid_enum'>enum</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span><span class='period'>.</span><span class='id identifier rubyid_to_a'>to_a</span>                  <span class='comment'>#=&gt; [:a, :x, []]
</span><span class='id identifier rubyid_enum'>enum</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span><span class='period'>.</span><span class='id identifier rubyid_equal?'>equal?</span><span class='lparen'>(</span><span class='id identifier rubyid_enum'>enum</span><span class='rparen'>)</span>          <span class='comment'>#=&gt; true
</span><span class='id identifier rubyid_enum'>enum</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_elm'>elm</span><span class='op'>|</span> <span class='id identifier rubyid_elm'>elm</span> <span class='rbrace'>}</span>         <span class='comment'>#=&gt; :method_returned
</span>
<span class='id identifier rubyid_enum'>enum</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span><span class='lparen'>(</span><span class='symbol'>:y</span><span class='comma'>,</span> <span class='symbol'>:z</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_to_a'>to_a</span>          <span class='comment'>#=&gt; [:a, :x, [:y, :z]]
</span><span class='id identifier rubyid_enum'>enum</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span><span class='lparen'>(</span><span class='symbol'>:y</span><span class='comma'>,</span> <span class='symbol'>:z</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_equal?'>equal?</span><span class='lparen'>(</span><span class='id identifier rubyid_enum'>enum</span><span class='rparen'>)</span>  <span class='comment'>#=&gt; false
</span><span class='id identifier rubyid_enum'>enum</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span><span class='lparen'>(</span><span class='symbol'>:y</span><span class='comma'>,</span> <span class='symbol'>:z</span><span class='rparen'>)</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_elm'>elm</span><span class='op'>|</span> <span class='id identifier rubyid_elm'>elm</span> <span class='rbrace'>}</span> <span class='comment'>#=&gt; :method_returned
</span></code></pre>


  </div>
</div>
<div class="tags">


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrbgems/mruby-enumerator/mrblib/enumerator.rb', line 263</span>

<span class='kw'>def</span> <span class='id identifier rubyid_each'>each</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_argv'>argv</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_obj'>obj</span> <span class='op'>=</span> <span class='kw'>self</span>
  <span class='kw'>if</span> <span class='int'>0</span> <span class='op'>&lt;</span> <span class='id identifier rubyid_argv'>argv</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span>
    <span class='id identifier rubyid_obj'>obj</span> <span class='op'>=</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_dup'>dup</span>
    <span class='id identifier rubyid_args'>args</span> <span class='op'>=</span> <span class='id identifier rubyid_obj'>obj</span><span class='period'>.</span><span class='id identifier rubyid_args'>args</span>
    <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
      <span class='id identifier rubyid_args'>args</span> <span class='op'>=</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_dup'>dup</span>
      <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_concat'>concat</span> <span class='id identifier rubyid_argv'>argv</span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_args'>args</span> <span class='op'>=</span> <span class='id identifier rubyid_argv'>argv</span><span class='period'>.</span><span class='id identifier rubyid_dup'>dup</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_obj'>obj</span><span class='period'>.</span><span class='id identifier rubyid_args'>args</span> <span class='op'>=</span> <span class='id identifier rubyid_args'>args</span>
  <span class='kw'>end</span>
  <span class='kw'>return</span> <span class='id identifier rubyid_obj'>obj</span> <span class='kw'>unless</span> <span class='id identifier rubyid_block_given?'>block_given?</span>
  <span class='id identifier rubyid_enumerator_block_call'>enumerator_block_call</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>

      <div class="method_details ">
  <h3 class="signature " id="each_with_index-instance_method">

    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>each_with_index</strong>





</h3><div class="docstring">
  <div class="discussion">

<p>call-seq:</p>

<pre class="code ruby"><code class="ruby">e.each_with_index {|(*args), idx| ... }
e.each_with_index</code></pre>

<p>Same as Enumerator#with_index(0), i.e. there is no starting offset.</p>

<p>If no block is given, a new Enumerator is returned that includes the index.</p>


  </div>
</div>
<div class="tags">


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


175
176
177</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrbgems/mruby-enumerator/mrblib/enumerator.rb', line 175</span>

<span class='kw'>def</span> <span class='id identifier rubyid_each_with_index'>each_with_index</span>
  <span class='id identifier rubyid_with_index'>with_index</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>

      <div class="method_details ">
  <h3 class="signature " id="feed-instance_method">

    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>feed</strong>(value)





</h3><div class="docstring">
  <div class="discussion">

<p>call-seq:</p>

<pre class="code ruby"><code class="ruby">e.feed obj   -&gt; nil</code></pre>

<p>Sets the value to be returned by the next yield inside <code>e</code>.</p>

<p>If the value is not set, the yield returns nil.</p>

<p>This value is cleared after being yielded.</p>

<pre class="code ruby"><code class="ruby"><span class='comment'># Array#map passes the array&#39;s elements to &quot;yield&quot; and collects the
</span><span class='comment'># results of &quot;yield&quot; as an array.
</span><span class='comment'># Following example shows that &quot;next&quot; returns the passed elements and
</span><span class='comment'># values passed to &quot;feed&quot; are collected as an array which can be
</span><span class='comment'># obtained by StopIteration#result.
</span><span class='id identifier rubyid_e'>e</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='int'>1</span><span class='comma'>,</span><span class='int'>2</span><span class='comma'>,</span><span class='int'>3</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span>
<span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_next'>next</span>           <span class='comment'>#=&gt; 1
</span><span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_feed'>feed</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a</span><span class='tstring_end'>&quot;</span></span>
<span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_next'>next</span>           <span class='comment'>#=&gt; 2
</span><span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_feed'>feed</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>b</span><span class='tstring_end'>&quot;</span></span>
<span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_next'>next</span>           <span class='comment'>#=&gt; 3
</span><span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_feed'>feed</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>c</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>begin</span>
  <span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_next'>next</span>
<span class='kw'>rescue</span> <span class='const'>StopIteration</span>
  <span class='id identifier rubyid_p'>p</span> <span class='gvar'>$!</span><span class='period'>.</span><span class='id identifier rubyid_result'>result</span>      <span class='comment'>#=&gt; [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;]
</span><span class='kw'>end</span>

<span class='id identifier rubyid_o'>o</span> <span class='op'>=</span> <span class='const'>Object</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>
<span class='kw'>def</span> <span class='id identifier rubyid_o'>o</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span>
  <span class='id identifier rubyid_x'>x</span> <span class='op'>=</span> <span class='kw'>yield</span>         <span class='comment'># (2) blocks
</span>  <span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_x'>x</span>               <span class='comment'># (5) =&gt; &quot;foo&quot;
</span>  <span class='id identifier rubyid_x'>x</span> <span class='op'>=</span> <span class='kw'>yield</span>         <span class='comment'># (6) blocks
</span>  <span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_x'>x</span>               <span class='comment'># (8) =&gt; nil
</span>  <span class='id identifier rubyid_x'>x</span> <span class='op'>=</span> <span class='kw'>yield</span>         <span class='comment'># (9) blocks
</span>  <span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_x'>x</span>               <span class='comment'># not reached w/o another e.next
</span><span class='kw'>end</span>

<span class='id identifier rubyid_e'>e</span> <span class='op'>=</span> <span class='id identifier rubyid_o'>o</span><span class='period'>.</span><span class='id identifier rubyid_to_enum'>to_enum</span>
<span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_next'>next</span>              <span class='comment'># (1)
</span><span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_feed'>feed</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&quot;</span></span>        <span class='comment'># (3)
</span><span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_next'>next</span>              <span class='comment'># (4)
</span><span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_next'>next</span>              <span class='comment'># (7)
</span>                    <span class='comment'># (10)
</span></code></pre>


  </div>
</div>
<div class="tags">

<p class="tag_title">Raises:</p>
<ul class="raise">

    <li>


        <span class='type'>(<tt><span class='object_link'><a href="TypeError.html" title="TypeError (class)">TypeError</a></span></tt>)</span>



    </li>

</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


513
514
515
516
517</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrbgems/mruby-enumerator/mrblib/enumerator.rb', line 513</span>

<span class='kw'>def</span> <span class='id identifier rubyid_feed'>feed</span><span class='lparen'>(</span><span class='id identifier rubyid_value'>value</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_raise'>raise</span> <span class='const'>TypeError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>feed value already set</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='ivar'>@feedvalue</span>
  <span class='ivar'>@feedvalue</span> <span class='op'>=</span> <span class='id identifier rubyid_value'>value</span>
  <span class='kw'>nil</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>

      <div class="method_details ">
  <h3 class="signature " id="initialize_copy-instance_method">

    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>initialize_copy</strong>(obj)





</h3><div class="docstring">
  <div class="discussion">


  </div>
</div>
<div class="tags">

<p class="tag_title">Raises:</p>
<ul class="raise">

    <li>


        <span class='type'>(<tt><span class='object_link'><a href="TypeError.html" title="TypeError (class)">TypeError</a></span></tt>)</span>



    </li>

</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


132
133
134
135
136
137
138
139
140
141
142</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrbgems/mruby-enumerator/mrblib/enumerator.rb', line 132</span>

<span class='kw'>def</span> <span class='id identifier rubyid_initialize_copy'>initialize_copy</span><span class='lparen'>(</span><span class='id identifier rubyid_obj'>obj</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_raise'>raise</span> <span class='const'>TypeError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>can&#39;t copy type </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_obj'>obj</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>unless</span> <span class='id identifier rubyid_obj'>obj</span><span class='period'>.</span><span class='id identifier rubyid_kind_of?'>kind_of?</span> <span class='const'>Enumerator</span>
  <span class='id identifier rubyid_raise'>raise</span> <span class='const'>TypeError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>can&#39;t copy execution context</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_obj'>obj</span><span class='period'>.</span><span class='id identifier rubyid_fib'>fib</span>
  <span class='ivar'>@obj</span> <span class='op'>=</span> <span class='id identifier rubyid_obj'>obj</span><span class='period'>.</span><span class='id identifier rubyid_obj'>obj</span>
  <span class='ivar'>@meth</span> <span class='op'>=</span> <span class='id identifier rubyid_obj'>obj</span><span class='period'>.</span><span class='id identifier rubyid_meth'>meth</span>
  <span class='ivar'>@args</span> <span class='op'>=</span> <span class='id identifier rubyid_obj'>obj</span><span class='period'>.</span><span class='id identifier rubyid_args'>args</span>
  <span class='ivar'>@fib</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='ivar'>@lookahead</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='ivar'>@feedvalue</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='kw'>self</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>

      <div class="method_details ">
  <h3 class="signature " id="inspect-instance_method">

    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>inspect</strong>





</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


217
218
219
220
221
222
223
224
225
226</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrbgems/mruby-enumerator/mrblib/enumerator.rb', line 217</span>

<span class='kw'>def</span> <span class='id identifier rubyid_inspect'>inspect</span>
  <span class='kw'>return</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>#&lt;</span><span class='embexpr_beg'>#{</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='embexpr_end'>}</span><span class='tstring_content'>: uninitialized&gt;</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>unless</span> <span class='ivar'>@obj</span>

  <span class='kw'>if</span> <span class='ivar'>@args</span> <span class='op'>&amp;&amp;</span> <span class='ivar'>@args</span><span class='period'>.</span><span class='id identifier rubyid_size'>size</span> <span class='op'>&gt;</span> <span class='int'>0</span>
    <span class='id identifier rubyid_args'>args</span> <span class='op'>=</span> <span class='ivar'>@args</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>, </span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>#&lt;</span><span class='embexpr_beg'>#{</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='embexpr_end'>}</span><span class='tstring_content'>: </span><span class='embexpr_beg'>#{</span><span class='ivar'>@obj</span><span class='embexpr_end'>}</span><span class='tstring_content'>:</span><span class='embexpr_beg'>#{</span><span class='ivar'>@meth</span><span class='embexpr_end'>}</span><span class='tstring_content'>(</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_args'>args</span><span class='embexpr_end'>}</span><span class='tstring_content'>)&gt;</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>else</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>#&lt;</span><span class='embexpr_beg'>#{</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='embexpr_end'>}</span><span class='tstring_content'>: </span><span class='embexpr_beg'>#{</span><span class='ivar'>@obj</span><span class='embexpr_end'>}</span><span class='tstring_content'>:</span><span class='embexpr_beg'>#{</span><span class='ivar'>@meth</span><span class='embexpr_end'>}</span><span class='tstring_content'>&gt;</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>

      <div class="method_details ">
  <h3 class="signature " id="next-instance_method">

    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>next</strong>





</h3><div class="docstring">
  <div class="discussion">

<p>call-seq:</p>

<pre class="code ruby"><code class="ruby">e.next   -&gt; object</code></pre>

<p>Returns the next object in the enumerator, and move the internal position
forward.  When the position reached at the end, StopIteration is raised.</p>

<h3 id="label-Example">Example</h3>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='int'>1</span><span class='comma'>,</span><span class='int'>2</span><span class='comma'>,</span><span class='int'>3</span><span class='rbracket'>]</span>
<span class='id identifier rubyid_e'>e</span> <span class='op'>=</span> <span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_to_enum'>to_enum</span>
<span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_next'>next</span>   <span class='comment'>#=&gt; 1
</span><span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_next'>next</span>   <span class='comment'>#=&gt; 2
</span><span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_next'>next</span>   <span class='comment'>#=&gt; 3
</span><span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_next'>next</span>   <span class='comment'>#raises StopIteration
</span></code></pre>

<p>Note that enumeration sequence by <code>next</code> does not affect other
non-external enumeration methods, unless the underlying iteration methods
itself has side-effect</p>


  </div>
</div>
<div class="tags">


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


305
306
307</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrbgems/mruby-enumerator/mrblib/enumerator.rb', line 305</span>

<span class='kw'>def</span> <span class='kw'>next</span>
  <span class='id identifier rubyid_next_values'>next_values</span><span class='period'>.</span><span class='id identifier rubyid___svalue'>__svalue</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>

      <div class="method_details ">
  <h3 class="signature " id="next_values-instance_method">

    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>next_values</strong>





</h3><div class="docstring">
  <div class="discussion">

<p>call-seq:</p>

<pre class="code ruby"><code class="ruby">e.next_values   -&gt; array</code></pre>

<p>Returns the next object as an array in the enumerator, and move the
internal position forward.  When the position reached at the end,
StopIteration is raised.</p>

<p>This method can be used to distinguish <code>yield</code> and <code>yield
nil</code>.</p>

<h3 id="label-Example">Example</h3>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_o'>o</span> <span class='op'>=</span> <span class='const'>Object</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>
<span class='kw'>def</span> <span class='id identifier rubyid_o'>o</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span>
  <span class='kw'>yield</span>
  <span class='kw'>yield</span> <span class='int'>1</span>
  <span class='kw'>yield</span> <span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span>
  <span class='kw'>yield</span> <span class='kw'>nil</span>
  <span class='kw'>yield</span> <span class='lbracket'>[</span><span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='rbracket'>]</span>
<span class='kw'>end</span>
<span class='id identifier rubyid_e'>e</span> <span class='op'>=</span> <span class='id identifier rubyid_o'>o</span><span class='period'>.</span><span class='id identifier rubyid_to_enum'>to_enum</span>
<span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_next_values'>next_values</span>
<span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_next_values'>next_values</span>
<span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_next_values'>next_values</span>
<span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_next_values'>next_values</span>
<span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_next_values'>next_values</span>
<span class='id identifier rubyid_e'>e</span> <span class='op'>=</span> <span class='id identifier rubyid_o'>o</span><span class='period'>.</span><span class='id identifier rubyid_to_enum'>to_enum</span>
<span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_next'>next</span>
<span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_next'>next</span>
<span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_next'>next</span>
<span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_next'>next</span>
<span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_next'>next</span>

<span class='comment'>## yield args       next_values      next
</span><span class='comment'>#  yield            []               nil
</span><span class='comment'>#  yield 1          [1]              1
</span><span class='comment'>#  yield 1, 2       [1, 2]           [1, 2]
</span><span class='comment'>#  yield nil        [nil]            nil
</span><span class='comment'>#  yield [1, 2]     [[1, 2]]         [1, 2]
</span></code></pre>

<p>Note that <code>next_values</code> does not affect other non-external
enumeration methods unless underlying iteration method itself has
side-effect</p>


  </div>
</div>
<div class="tags">

<p class="tag_title">Raises:</p>
<ul class="raise">

    <li>


        <span class='type'>(<tt>@stop_exc</tt>)</span>



    </li>

</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


353
354
355
356
357
358
359
360
361
362
363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381
382
383
384
385
386
387
388
389
390
391</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrbgems/mruby-enumerator/mrblib/enumerator.rb', line 353</span>

<span class='kw'>def</span> <span class='id identifier rubyid_next_values'>next_values</span>
  <span class='kw'>if</span> <span class='ivar'>@lookahead</span>
    <span class='id identifier rubyid_vs'>vs</span> <span class='op'>=</span> <span class='ivar'>@lookahead</span>
    <span class='ivar'>@lookahead</span> <span class='op'>=</span> <span class='kw'>nil</span>
    <span class='kw'>return</span> <span class='id identifier rubyid_vs'>vs</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_raise'>raise</span> <span class='ivar'>@stop_exc</span> <span class='kw'>if</span> <span class='ivar'>@stop_exc</span>

  <span class='id identifier rubyid_curr'>curr</span> <span class='op'>=</span> <span class='const'>Fiber</span><span class='period'>.</span><span class='id identifier rubyid_current'>current</span>

  <span class='kw'>if</span> <span class='op'>!</span><span class='ivar'>@fib</span> <span class='op'>||</span> <span class='op'>!</span><span class='ivar'>@fib</span><span class='period'>.</span><span class='id identifier rubyid_alive?'>alive?</span>
    <span class='ivar'>@dst</span> <span class='op'>=</span> <span class='id identifier rubyid_curr'>curr</span>
    <span class='ivar'>@fib</span> <span class='op'>=</span> <span class='const'>Fiber</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span> <span class='kw'>do</span>
      <span class='id identifier rubyid_result'>result</span> <span class='op'>=</span> <span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='op'>|</span>
        <span class='id identifier rubyid_feedvalue'>feedvalue</span> <span class='op'>=</span> <span class='kw'>nil</span>
        <span class='const'>Fiber</span><span class='period'>.</span><span class='id identifier rubyid_yield'>yield</span> <span class='id identifier rubyid_args'>args</span>
        <span class='kw'>if</span> <span class='ivar'>@feedvalue</span>
          <span class='id identifier rubyid_feedvalue'>feedvalue</span> <span class='op'>=</span> <span class='ivar'>@feedvalue</span>
          <span class='ivar'>@feedvalue</span> <span class='op'>=</span> <span class='kw'>nil</span>
        <span class='kw'>end</span>
        <span class='id identifier rubyid_feedvalue'>feedvalue</span>
      <span class='kw'>end</span>
      <span class='ivar'>@stop_exc</span> <span class='op'>=</span> <span class='const'>StopIteration</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>iteration reached an end</span><span class='tstring_end'>&quot;</span></span>
      <span class='ivar'>@stop_exc</span><span class='period'>.</span><span class='id identifier rubyid_result'>result</span> <span class='op'>=</span> <span class='id identifier rubyid_result'>result</span>
      <span class='const'>Fiber</span><span class='period'>.</span><span class='id identifier rubyid_yield'>yield</span> <span class='kw'>nil</span>
    <span class='kw'>end</span>
    <span class='ivar'>@lookahead</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_vs'>vs</span> <span class='op'>=</span> <span class='ivar'>@fib</span><span class='period'>.</span><span class='id identifier rubyid_resume'>resume</span> <span class='id identifier rubyid_curr'>curr</span>
  <span class='kw'>if</span> <span class='ivar'>@stop_exc</span>
    <span class='ivar'>@fib</span> <span class='op'>=</span> <span class='kw'>nil</span>
    <span class='ivar'>@dst</span> <span class='op'>=</span> <span class='kw'>nil</span>
    <span class='ivar'>@lookahead</span> <span class='op'>=</span> <span class='kw'>nil</span>
    <span class='ivar'>@feedvalue</span> <span class='op'>=</span> <span class='kw'>nil</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='ivar'>@stop_exc</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_vs'>vs</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>

      <div class="method_details ">
  <h3 class="signature " id="peek-instance_method">

    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>peek</strong>





</h3><div class="docstring">
  <div class="discussion">

<p>call-seq:</p>

<pre class="code ruby"><code class="ruby">e.peek   -&gt; object</code></pre>

<p>Returns the next object in the enumerator, but doesn&#39;t move the
internal position forward.  If the position is already at the end,
StopIteration is raised.</p>

<h3 id="label-Example">Example</h3>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='int'>1</span><span class='comma'>,</span><span class='int'>2</span><span class='comma'>,</span><span class='int'>3</span><span class='rbracket'>]</span>
<span class='id identifier rubyid_e'>e</span> <span class='op'>=</span> <span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_to_enum'>to_enum</span>
<span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_next'>next</span>   <span class='comment'>#=&gt; 1
</span><span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_peek'>peek</span>   <span class='comment'>#=&gt; 2
</span><span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_peek'>peek</span>   <span class='comment'>#=&gt; 2
</span><span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_peek'>peek</span>   <span class='comment'>#=&gt; 2
</span><span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_next'>next</span>   <span class='comment'>#=&gt; 2
</span><span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_next'>next</span>   <span class='comment'>#=&gt; 3
</span><span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_next'>next</span>   <span class='comment'>#raises StopIteration
</span></code></pre>


  </div>
</div>
<div class="tags">


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


413
414
415</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrbgems/mruby-enumerator/mrblib/enumerator.rb', line 413</span>

<span class='kw'>def</span> <span class='id identifier rubyid_peek'>peek</span>
  <span class='id identifier rubyid_peek_values'>peek_values</span><span class='period'>.</span><span class='id identifier rubyid___svalue'>__svalue</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>

      <div class="method_details ">
  <h3 class="signature " id="peek_values-instance_method">

    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>peek_values</strong>





</h3><div class="docstring">
  <div class="discussion">

<p>call-seq:</p>

<pre class="code ruby"><code class="ruby">e.peek_values   -&gt; array</code></pre>

<p>Returns the next object as an array, similar to Enumerator#next_values, but
doesn&#39;t move the internal position forward.  If the position is already
at the end, StopIteration is raised.</p>

<h3 id="label-Example">Example</h3>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_o'>o</span> <span class='op'>=</span> <span class='const'>Object</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>
<span class='kw'>def</span> <span class='id identifier rubyid_o'>o</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span>
  <span class='kw'>yield</span>
  <span class='kw'>yield</span> <span class='int'>1</span>
  <span class='kw'>yield</span> <span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span>
<span class='kw'>end</span>
<span class='id identifier rubyid_e'>e</span> <span class='op'>=</span> <span class='id identifier rubyid_o'>o</span><span class='period'>.</span><span class='id identifier rubyid_to_enum'>to_enum</span>
<span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_peek_values'>peek_values</span>    <span class='comment'>#=&gt; []
</span><span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_next'>next</span>
<span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_peek_values'>peek_values</span>    <span class='comment'>#=&gt; [1]
</span><span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_peek_values'>peek_values</span>    <span class='comment'>#=&gt; [1]
</span><span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_next'>next</span>
<span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_peek_values'>peek_values</span>    <span class='comment'>#=&gt; [1, 2]
</span><span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_next'>next</span>
<span class='id identifier rubyid_p'>p</span> <span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_peek_values'>peek_values</span>    <span class='comment'># raises StopIteration
</span></code></pre>


  </div>
</div>
<div class="tags">


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


443
444
445
446
447
448</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrbgems/mruby-enumerator/mrblib/enumerator.rb', line 443</span>

<span class='kw'>def</span> <span class='id identifier rubyid_peek_values'>peek_values</span>
  <span class='kw'>if</span> <span class='ivar'>@lookahead</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
    <span class='ivar'>@lookahead</span> <span class='op'>=</span> <span class='id identifier rubyid_next_values'>next_values</span>
  <span class='kw'>end</span>
  <span class='ivar'>@lookahead</span><span class='period'>.</span><span class='id identifier rubyid_dup'>dup</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>

      <div class="method_details ">
  <h3 class="signature " id="rewind-instance_method">

    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>rewind</strong>





</h3><div class="docstring">
  <div class="discussion">

<p>call-seq:</p>

<pre class="code ruby"><code class="ruby">e.rewind   -&gt; e</code></pre>

<p>Rewinds the enumeration sequence to the beginning.</p>

<p>If the enclosed object responds to a “rewind” method, it is called.</p>


  </div>
</div>
<div class="tags">


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


458
459
460
461
462
463
464
465
466</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrbgems/mruby-enumerator/mrblib/enumerator.rb', line 458</span>

<span class='kw'>def</span> <span class='id identifier rubyid_rewind'>rewind</span>
  <span class='ivar'>@obj</span><span class='period'>.</span><span class='id identifier rubyid_rewind'>rewind</span> <span class='kw'>if</span> <span class='ivar'>@obj</span><span class='period'>.</span><span class='id identifier rubyid_respond_to?'>respond_to?</span> <span class='symbol'>:rewind</span>
  <span class='ivar'>@fib</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='ivar'>@dst</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='ivar'>@lookahead</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='ivar'>@feedvalue</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='ivar'>@stop_exc</span> <span class='op'>=</span> <span class='kw'>false</span>
  <span class='kw'>self</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>

      <div class="method_details ">
  <h3 class="signature " id="with_index-instance_method">

    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>with_index</strong>(offset = 0)





</h3><div class="docstring">
  <div class="discussion">

<p>call-seq:</p>

<pre class="code ruby"><code class="ruby">e.with_index(offset = 0) {|(*args), idx| ... }
e.with_index(offset = 0)</code></pre>

<p>Iterates the given block for each element with an index, which starts from
<code>offset</code>.  If no block is given, returns a new Enumerator that
includes the index, starting from <code>offset</code></p>
<dl class="rdoc-list note-list"><dt><code>offset</code>
<dd>
<p>the starting index to use</p>
</dd></dl>


  </div>
</div>
<div class="tags">

<p class="tag_title">Raises:</p>
<ul class="raise">

    <li>


        <span class='type'>(<tt><span class='object_link'><a href="TypeError.html" title="TypeError (class)">TypeError</a></span></tt>)</span>



    </li>

</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


155
156
157
158
159
160
161
162
163
164</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrbgems/mruby-enumerator/mrblib/enumerator.rb', line 155</span>

<span class='kw'>def</span> <span class='id identifier rubyid_with_index'>with_index</span><span class='lparen'>(</span><span class='id identifier rubyid_offset'>offset</span><span class='op'>=</span><span class='int'>0</span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='id identifier rubyid_to_enum'>to_enum</span> <span class='symbol'>:with_index</span><span class='comma'>,</span> <span class='id identifier rubyid_offset'>offset</span> <span class='kw'>unless</span> <span class='id identifier rubyid_block_given?'>block_given?</span>
  <span class='id identifier rubyid_raise'>raise</span> <span class='const'>TypeError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>no implicit conversion of </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_offset'>offset</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='embexpr_end'>}</span><span class='tstring_content'> into Integer</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>unless</span> <span class='id identifier rubyid_offset'>offset</span><span class='period'>.</span><span class='id identifier rubyid_respond_to?'>respond_to?</span><span class='lparen'>(</span><span class='symbol'>:to_int</span><span class='rparen'>)</span>

  <span class='id identifier rubyid_n'>n</span> <span class='op'>=</span> <span class='id identifier rubyid_offset'>offset</span><span class='period'>.</span><span class='id identifier rubyid_to_int'>to_int</span> <span class='op'>-</span> <span class='int'>1</span>
  <span class='id identifier rubyid_enumerator_block_call'>enumerator_block_call</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_i'>i</span><span class='op'>|</span>
    <span class='id identifier rubyid_n'>n</span> <span class='op'>+=</span> <span class='int'>1</span>
    <span class='kw'>yield</span> <span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='comma'>,</span><span class='id identifier rubyid_n'>n</span><span class='rbracket'>]</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>

      <div class="method_details ">
  <h3 class="signature " id="with_object-instance_method">

    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>with_object</strong>(object)





</h3><div class="docstring">
  <div class="discussion">

<p>call-seq:</p>

<pre class="code ruby"><code class="ruby">e.each_with_object(obj) {|(*args), obj| ... }
e.each_with_object(obj)
e.with_object(obj) {|(*args), obj| ... }
e.with_object(obj)</code></pre>

<p>Iterates the given block for each element with an arbitrary object,
<code>obj</code>, and returns <code>obj</code></p>

<p>If no block is given, returns a new Enumerator.</p>

<h3 id="label-Example">Example</h3>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_to_three'>to_three</span> <span class='op'>=</span> <span class='const'>Enumerator</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_y'>y</span><span class='op'>|</span>
  <span class='int'>3</span><span class='period'>.</span><span class='id identifier rubyid_times'>times</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_x'>x</span><span class='op'>|</span>
    <span class='id identifier rubyid_y'>y</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_x'>x</span>
  <span class='kw'>end</span>
<span class='kw'>end</span>

<span class='id identifier rubyid_to_three_with_string'>to_three_with_string</span> <span class='op'>=</span> <span class='id identifier rubyid_to_three'>to_three</span><span class='period'>.</span><span class='id identifier rubyid_with_object'>with_object</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='id identifier rubyid_to_three_with_string'>to_three_with_string</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_x'>x</span><span class='comma'>,</span><span class='id identifier rubyid_string'>string</span><span class='op'>|</span>
  <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_string'>string</span><span class='embexpr_end'>}</span><span class='tstring_content'>: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_x'>x</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span>

<span class='comment'># =&gt; foo:0
</span><span class='comment'># =&gt; foo:1
</span><span class='comment'># =&gt; foo:2
</span></code></pre>


  </div>
</div>
<div class="tags">


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


208
209
210
211
212
213
214
215</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'mrbgems/mruby-enumerator/mrblib/enumerator.rb', line 208</span>

<span class='kw'>def</span> <span class='id identifier rubyid_with_object'>with_object</span><span class='lparen'>(</span><span class='id identifier rubyid_object'>object</span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='id identifier rubyid_to_enum'>to_enum</span><span class='lparen'>(</span><span class='symbol'>:with_object</span><span class='comma'>,</span> <span class='id identifier rubyid_object'>object</span><span class='rparen'>)</span> <span class='kw'>unless</span> <span class='id identifier rubyid_block_given?'>block_given?</span>

  <span class='id identifier rubyid_enumerator_block_call'>enumerator_block_call</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_i'>i</span><span class='op'>|</span>
    <span class='kw'>yield</span> <span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='comma'>,</span><span class='id identifier rubyid_object'>object</span><span class='rbracket'>]</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_object'>object</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>

  </div>

</div>

    <div id="footer">
  Generated on Wed Jul 15 12:30:25 2015 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.8.7.6 (ruby-2.2.0).
</div>

  </body>
</html>
